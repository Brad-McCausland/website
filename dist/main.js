!function(e){var t={};function a(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(r,i,function(t){return e[t]}.bind(null,i));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=1)}([function(e,t){e.exports=React},function(e,t,a){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(a(0)),n=r(a(2)),s=a(3);var o=new Image,l=new Image,c=new Image;o.src="src/images/background.jpg",l.src="src/images/pano.jpg",c.src="src/images/portrait.png";n.render(i.createElement(s.SlideShowView,{width:600,height:600,images:[]}),document.getElementById("example"))},function(e,t){e.exports=ReactDOM},function(e,t,a){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(a(0));var n={EMPTY:0,LOADING:1,COMPLETE:2,ERROR:3};class s extends i.Component{constructor(e){super(e),this.canvasRef=i.createRef();var t=new Image;t.src="./src/images/image_load_error.png",this.state={width:e.width,height:e.height,images:e.images,readyState:n.EMPTY,currentImageIndex:0,intervalID:0,errorImage:t},this.addLoadingAnimation()}render(){return i.createElement("div",null,i.createElement("canvas",{ref:this.canvasRef,width:this.state.width,height:this.state.height,style:{backgroundColor:"#EEEEEE"},onClick:()=>this.addLoadingAnimation()}))}isEmpty(){return this.state.readyState===n.EMPTY}isLoading(){return this.state.readyState===n.LOADING}isComplete(){return this.state.readyState===n.COMPLETE}isError(){return this.state.readyState===n.ERROR}addImage(e){this.state.images.length||this.state.intervalID&&clearInterval(this.state.intervalID),this.state.images.unshift(e)}displayNextImage(){this.state.images.length?(this.setState({currentImageIndex:(this.state.currentImageIndex+1)%this.state.images.length}),this.displayImage(this.state.images[this.state.currentImageIndex])):console.log("Attempted to display next image when no images are loaded!")}displayError(e){this.clearImages(),this.displayImage(this.state.errorImage),this.setState({readyState:n.ERROR}),e&&e()}displayImage(e){const t=this.canvasRef.current;if(t){const a=t.getContext("2d");a&&(this.state.intervalID&&clearInterval(this.state.intervalID),a.clearRect(0,0,t.width,t.height),a.drawImage(e,0,0,t.width,t.height))}}clearImages(){this.setState({images:[]})}addLoadingAnimation(){this.clearImages;let e=new Image;e.src="./src/images/loading.png";var t=new o(e,0,12,256,256);if(!this.state.images.length){console.log("1");let e=(this.state.width-256)/2,a=(this.state.height-256)/2;const r=this.canvasRef.current;if(r){console.log("2"),r.getContext("2d")&&(console.log("3"),this.setState({intervalID:window.setInterval(this.animateImageInCanvas,100,r.getContext("2d"),e,a,t)}))}}}animateImageInCanvas(e,t,a,r){console.log("frame"),null!=r.source&&(e.drawImage(r.source,r.currentFrame*r.width,0,r.width,r.height,t,a,r.width,r.height),r.currentFrame=(r.currentFrame+1)%r.totalFrames)}}t.SlideShowView=s;class o{constructor(e,t,a,r,i){this.source=e,this.currentFrame=t,this.totalFrames=a,this.width=r,this.height=i}}}]);
//# sourceMappingURL=main.js.map